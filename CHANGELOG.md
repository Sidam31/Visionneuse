# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [4.0] - 2025-07-27

### Changed
- Updated implementation to comply with recent SAN server filter requirements:
  - Full-resolution downloads are no longer supported; this may be revisited in future releases
  - Users must now specify the maximum image size using the `-s/--size` option (default: 1000 px); requests for larger images will result in a 403 error
  - Download logic now detects AWS WAF challenges and provides a clear error message, replacing the previous generic 202 error; no workaround is currently available
  - Reduced default number of threads and connections to minimize server load
  - Updated the user agent string to a modern value
- Replaced the use of the `urllib3` Python module with the more flexible `requests` library
- Removed the `-c/--nconn` parameter; connection management now relies on the defaults provided by the `requests` library

## [3.2] - 2025-07-14

### Fixed
- Access to IIIF manifest with proper HTTP headers to address recent changes in SAN server filters that broke v3.1

### Changed
- Download size now reported in binary format (MiB rather than MB)
- Update Python dependencies

## [3.1] - 2025-02-08

### Added
- Pyinstaller artifacts now built with Python 3.12
- Support for multiple platforms:
  - Ubuntu 22.04 (arm64)
  - macOS 13 (Intel)
  - macOS 14 (arm64)
  - Windows 2022

### Changed
- Minimum Python version moved to 3.9
- Improved README documentation

## [3.0] - 2024-10-14

### Added
- New GUI available with `antenati_gui.py`
- GUI standalone executables generated by pyinstaller
- Support for Windows, macOS and Linux standalone executables

## [2.5] - 2023-01-22

### Fixed
- Support for new URL [antenati.cultura.gov.it](https://antenati.cultura.gov.it/)

## [2.4] - 2022-12-28

### Added
- Possibility to set range of pages to download using `-f` and `-l` options
- Type hints throughout the codebase

### Fixed
- Removed usage of deprecated `cgi.parse_header`

## [2.3] - 2022-05-21

### Added
- HTTP headers to get around SAN server filters

## [2.2] - 2022-02-16

### Changed
- Several minor improvements

## [2.1] - 2021-11-20

### Changed
- Code restyle with argument parsing to specify number of threads and number of connections

## [2.0] - 2021-11-19

### Added
- Support for new Portale Antenati (Fall 2021)

## [1.1] - 2019-10-12

### Changed
- Upgraded to Python 3 using 2to3 tool

## [1.0] - 2019-04-14

### Added
- First stable release